{% extends "template.html" %}

{% block title %}Solo Game{% endblock %}

{% block content %}
<div id="loading-overlay" style="display: none;">
  <div class="spinner"></div>
</div>
<main class="single-game-page">
  <div class="auth-form">
    <h2>Solo Game</h2>

    <button id="create-game-btn">Create Game</button>
    <div id="create-room-modal" class="modal" style="display:none;">
      <div class="modal-content">
        <h2>Create Room</h2>
        <form id="create-room-form">
          <label for="rounds">Number of rounds:</label>
          <input type="number" id="rounds" name="rounds" min="1" max="20" required>
          <div class="modal-buttons">
            <button type="button" id="close-modal-btn">Cancel</button>
            <button type="submit">Create</button>
          </div>
        </form>
      </div>
    </div>

  <button type="submit" style="margin-top: 0px;" onclick="window.location.href='/pages/leaderboard'">Leaderboard</button>

    {% if rooms and rooms|length > 0 %}
      <div class="room-list">
        <h3 style="margin-top: 18px;">Your Games</h3>
        <ul>
          {% for room in rooms %}
            <li>
              <!-- Change link to id_solo_room -->
              <a href="/pages/single-room/{{ room.id_solo_room }}">
                Game {{ loop.index }} â€” created {{ room.created_at.strftime("%d.%m.%Y %H:%M") }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}
  </div>
</main>
<script type="module" src="/static/js/rounds-modal.js"></script>

{% endblock %}
